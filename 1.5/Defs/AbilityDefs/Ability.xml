<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <AbilityDef ParentName="AK_OperatorIDBase">
        <defName>LOF_VAbility_Astro</defName>
        <label>占星师</label>
        <description>desc</description>
        <abilityClass>Astrologer.Insight.VAB_AstroTracker</abilityClass>
        <iconPath>UI/Element/Placeholder</iconPath>
    </AbilityDef>
    <!--==================== 洞察力技能 ====================-->
    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_Monitor</defName>
        <label>占星师洞察力</label>
        <description>洞察力自然恢复进度\n\n介绍:\n洞察力是占星师种族拥有的独特能力,许多专属技能都依赖洞察力进行释放.\n\n注意:\n当占星师靠近星光草附近时,洞察力恢复速度会加快.</description>
        <displayGizmoUndraft>true</displayGizmoUndraft>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>Astrologer.Ability.AKAbility_Monitor</abilityClass>
        <compEffectList/>
        <cooldownProperty/>
    </AKA_Ability.AKAbilityDef>
    <!--技能显示顺序是和列表顺序反着来的-->

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_FireMode</defName>
        <label>占星师切换武器模式</label>
        <description>desc.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>Astrologer.Ability.AKAbility_FireMode</abilityClass>
        <compEffectList/>
        <cooldownProperty/>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_IncreaseHarvest</defName>
        <label>大丰收</label>
        <description>介绍:\n消耗一定洞察力,在一天内提高农作物收获量,屠宰量.手术成功率提高,制作物品高品质概率增加,射击命中率增加,食物消耗率x200%.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_SelfTarget</abilityClass>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>50</amount>
                <failReason>洞察力不足</failReason>
            </li>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/>
        </castConditions>
        <compEffectList>
            <!--li Class="Astrologer.Ability.AE_IncreaseHarvest"/-->
            <li Class="AKA_Ability.AbilityEffect_AddHediff">
                <hediffDef>LOF_Hediff_IncreaseHarvest</hediffDef>
                <severity>2.4</severity>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>50</amount>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_CostChargeStatic">
                <cost>1</cost>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <cooldownProperty>
            <SPPerCharge>7</SPPerCharge>
            <SPUnit>day</SPUnit>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>


    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_Teleport</defName>
        <label>进行折跃</label>
        <description>desc.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <range>40</range>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AE_TeleportSelfToTarget"/>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>15</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>800000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_UnstableCatalyst</defName>
        <label>进入不稳定态</label>
        <description>持续消耗洞察力可以进入不稳定态，此时有一半的几率受击不造成伤害.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_SelfTarget</abilityClass>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>50</amount>
                <failReason>洞察力不足</failReason>
            </li>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/>
        </castConditions>
        <compEffectList>
            <li Class="Astrologer.Ability.AE_IgnoreDmg"/>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>50</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <cooldownProperty>
            <SPPerCharge>15</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>800000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_LeechAttack</defName>
        <label>吸血攻击</label>
        <description>介绍:\n持续消耗洞察力,攻击敌人造成伤害时固定回复血量.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Auto</abilityClass>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>1</amount>
                <failReason>洞察力不足</failReason>
            </li>
        </castConditions>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <cooldownProperty>
            <SPPerCharge>12</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>8000000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <Def Class="AKA_Ability.AbilityEffectsDef">
        <defName>LOF_Effect_ThrowSmoke</defName>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AE_DoEffectFX">
                <doVisualEffects>true</doVisualEffects>
                <doFlash>false</doFlash>
                <doSmoke>true</doSmoke>
                <radiusRange>10~12</radiusRange>
            </li>
        </compEffectList>
    </Def>
    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_GravityDeflection</defName>
        <label>引力偏转尘埃</label>
        <description>介绍:\n消耗洞察力可以释放一片引力偏转尘埃,该尘埃会偏转子弹和电荷弹.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <reqLineofSight>true</reqLineofSight>
        <range>40</range>
        <field>10</field>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="Astrologer.Ability.AE_Spawn">
                <thing>LOF_GravityDeflectionDust</thing>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_DelayedEffects">
                <delayedEffect>LOF_Effect_ThrowSmoke</delayedEffect>
                <burstCount>6</burstCount>
                <burstInterval>250</burstInterval>
                <effectorType>AKA_Ability.DelayedEffects.DelayedEffectorBase</effectorType>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>12</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>8000000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <Def Class="AKA_Ability.AbilityEffectsDef">
        <defName>LOF_Effect_UnavoidableStance</defName>
        <label>锚定立场</label>
        <compEffectList>
            <li Class="Astrologer.Ability.AE_AddHediffRadial">
                <radius>10</radius>
                <hediffDef>LOF_Hediff_UnavoidableStance</hediffDef>
                <severity>1</severity>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_DoEffectFX">
                <doVisualEffects>true</doVisualEffects>
                <radiusRange>6~12</radiusRange>
                <screenShakeFactor>0.1</screenShakeFactor>
                <fxInteriorFleck>LightningGlow</fxInteriorFleck>
                <useSounds>
                    <li>Psycast_Skip_Entry</li>
                </useSounds>
            </li>
        </compEffectList>
    </Def>
    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_UnavoidableStance</defName>
        <label>锚定立场</label>
        <description>介绍:\n消耗洞察力创造一个让敌人闪避率为0的立场.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <reqLineofSight>true</reqLineofSight>
        <range>40</range>
        <field>10</field>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
            <!--li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/-->
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AE_DelayedEffects">
                <delayedEffect>LOF_Effect_UnavoidableStance</delayedEffect>
                <delayFirstEffect>true</delayFirstEffect>
                <burstCount>10</burstCount>
                <burstInterval>30</burstInterval>
                <effectorType>AKA_Ability.DelayedEffects.DelayedEffectorBase</effectorType>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>12</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>8000000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_InsightCoagulate</defName>
        <label>紧急救援</label>
        <description>desc.</description>
        <icon>UI/Element/HealEnhance</icon>
        <abilityClass>AKA_Ability.AKAbility_SelfTarget</abilityClass>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect_Heal">
                <healPoint>100</healPoint>
                <healHostile>false</healHostile>
                <healNeutral>false</healNeutral>
                <healNullFaction>false</healNullFaction>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <cooldownProperty>
            <SPPerCharge>1</SPPerCharge>
            <SPUnit>day</SPUnit>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_PhotonBomb</defName>
        <label>释放光子炸弹</label>
        <description>介绍:\n该炸弹可以跨墙释放.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <range>40</range>
        <field>10</field>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AE_ShootProjectile">
                <projectile>LOF_PhotonBomb</projectile>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>12</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>8000000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_Gravitational</defName>
        <label>创造引力点</label>
        <description>介绍:\n创造一个引力点将敌人拉向该引力点.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <reqLineofSight>true</reqLineofSight>
        <range>40</range>
        <field>10</field>
        <castConditions>
            <li Class="Astrologer.Ability.CC_InsightThreshold">
                <amount>20</amount>
                <failReason>洞察力不足</failReason>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AME_Singularity">
                <stunTick>250</stunTick>
            </li>
            <li Class="Astrologer.Ability.AE_CostInsight">
                <amount>20</amount>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>12</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>8000000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <!--==================== 不需要洞察力的技能 ====================-->
    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_DeployEMP</defName>
        <label>部署EMP冲击背包</label>
        <description>desc.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_SelfTarget</abilityClass>
        <allowInterrupt>true</allowInterrupt>
        <castConditions>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/>
        </castConditions>
        <compEffectList>
            <li Class="Astrologer.Ability.AE_DeployBuilding">
                <building>LOF_ActivatedPulsePack</building>
                <apparel>LOF_Equip_EmpactPack</apparel>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_CostChargeStatic">
                <cost>1</cost>
            </li>
        </compEffectList>
        <cooldownProperty>
            <SPPerCharge>15</SPPerCharge>
            <SPUnit>day</SPUnit>
            <initSP>60000000</initSP>
            <maxCharge>1</maxCharge>
            <!--cooldownClass>AKA_Ability.Cooldown.CD_TrackerShared</cooldownClass-->
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_Skip</defName>
        <label>进行大跳</label>
        <description>desc.</description>
        <icon>UI/Element/Placeholder</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <range>40</range>
        <castConditions>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge"/>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AE_Jump">
                <verbJump>
                    <verbClass>Verb_CastAbilityJump</verbClass>
                    <label>jump</label>
                    <soundCast>Longjump_Jump</soundCast>
                    <soundLanding>Longjump_Land</soundLanding>
                    <targetParams>
                        <canTargetLocations>true</canTargetLocations>
                        <canTargetPawns>false</canTargetPawns>
                        <canTargetBuildings>false</canTargetBuildings>
                    </targetParams>
                </verbJump>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_CostChargeStatic"/>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <SPPerCharge>2</SPPerCharge>
            <SPUnit>hour</SPUnit>
            <initSP>800000</initSP>
            <maxCharge>1</maxCharge>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_Coagulate</defName>
        <label>紧急救援</label>
        <description>desc.</description>
        <icon>UI/Element/HealEnhance</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <range>40</range>
        <castConditions>
            <li Class="AKA_Ability.CastConditioner.CC_NeedCharge">
                <chargeRequire>1</chargeRequire>
                <failReason>需要填充医药</failReason>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect_Heal">
                <healPoint>10</healPoint>
                <healHostile>true</healHostile>
                <healNeutral>true</healNeutral>
                <healNullFaction>true</healNullFaction>
            </li>
            <li Class="AKA_Ability.AbilityEffect.AE_CostChargeStatic"/>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>false</canTargetLocations>
            <canTargetSelf>true</canTargetSelf>
            <canTargetPawns>true</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <cooldownClass>AKA_Ability.Cooldown.CD_TrackerShared</cooldownClass>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

    <AKA_Ability.AKAbilityDef>
        <defName>LOF_Ability_ReloadFromThing</defName>
        <label>重新装填</label>
        <description>使用医药进行装填.</description>
        <icon>UI/Element/HealEnhance</icon>
        <abilityClass>AKA_Ability.AKAbility_Targetor</abilityClass>
        <allowInterrupt>true</allowInterrupt>
        <range>2</range>
        <castConditions>
            <li Class="AKA_Ability.CastConditioner.CC_NeedFullCharge">
                <failReason>已满</failReason>
                <invert>true</invert>
            </li>
        </castConditions>
        <compEffectList>
            <li Class="AKA_Ability.AbilityEffect.AE_ReloadFromThing">
                <abilityToReload>LOF_Ability_Coagulate</abilityToReload>
                <ammoDef>MedicineIndustrial</ammoDef>
                <ammoCountPerCharge>1</ammoCountPerCharge>
            </li>
        </compEffectList>
        <useSounds>
            <li>AK_SFX_Tactboost</li>
        </useSounds>
        <targetParams>
            <canTargetLocations>true</canTargetLocations>
            <canTargetItems>true</canTargetItems>
            <canTargetSelf>false</canTargetSelf>
            <canTargetPawns>false</canTargetPawns>
        </targetParams>
        <cooldownProperty>
            <cooldownClass>AKA_Ability.Cooldown.CD_TrackerShared</cooldownClass>
        </cooldownProperty>
    </AKA_Ability.AKAbilityDef>

</Defs>